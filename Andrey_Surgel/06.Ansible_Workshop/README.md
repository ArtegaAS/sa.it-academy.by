# PLAYBOOK OUTPUT

```bash
Using /home/t1wg/Homework/06.Ansible_workshop/ansible.cfg as config file

PLAY [install nginx and configure vhosts] ************************************************************************************************************************************************************************

TASK [Gathering Facts] *******************************************************************************************************************************************************************************************
Friday 11 July 2025  01:06:00 +0300 (0:00:00.012)       0:00:00.012 *********** 
[WARNING]: Platform linux on host ansible_workshop is using the discovered Python interpreter at /usr/bin/python3.8, but future installation of another Python interpreter could change the meaning of that path.
See https://docs.ansible.com/ansible-core/2.18/reference_appendices/interpreter_discovery.html for more information.
ok: [ansible_workshop]

TASK [remove apache2] ********************************************************************************************************************************************************************************************
Friday 11 July 2025  01:06:03 +0300 (0:00:02.940)       0:00:02.952 *********** 
ok: [ansible_workshop] => {"changed": false}

TASK [install nginx] *********************************************************************************************************************************************************************************************
Friday 11 July 2025  01:06:04 +0300 (0:00:01.177)       0:00:04.129 *********** 
ok: [ansible_workshop] => {"cache_update_time": 1752166762, "cache_updated": false, "changed": false}

TASK [start nginx] ***********************************************************************************************************************************************************************************************
Friday 11 July 2025  01:06:05 +0300 (0:00:01.508)       0:00:05.637 *********** 
ok: [ansible_workshop] => {"changed": false, "name": "nginx", "state": "started", "status": {"ActiveState": "active", "AllowedCPUs": "", "AllowedMemoryNodes": "", "BlockIOAccounting": "no", "BlockIOWeight": "[not set]", "CPUAccounting": "yes", "CPUAffinity": "", "CPUAffinityFromNUMA": "no", "CPUQuotaPerSecUSec": "infinity", "CPUQuotaPeriodUSec": "infinity", "CPUSchedulingPolicy": "0", "CPUSchedulingPriority": "0", "CPUSchedulingResetOnFork": "no", "CPUShares": "[not set]", "CPUUsageNSec": "36191000", "CPUWeight": "[not set]", "CleanResult": "success", "ControlGroup": "/system.slice/nginx.service", "ControlPID": "0", "DefaultMemoryLow": "0", "DefaultMemoryMin": "0", "Delegate": "no", "DevicePolicy": "auto", "EffectiveCPUs": "", "EffectiveMemoryNodes": "", "ExecMainCode": "0", "ExecMainExitTimestampMonotonic": "0", "ExecMainPID": "10859", "ExecMainStartTimestamp": "Thu 2025-07-10 21:59:22 UTC", "ExecMainStartTimestampMonotonic": "1158367803805", "ExecMainStatus": "0", "ExecReload": "{ path=/usr/sbin/nginx ; argv[]=/usr/sbin/nginx -g daemon on; master_process on; -s reload ; ignore_errors=no ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }", "ExecReloadEx": "{ path=/usr/sbin/nginx ; argv[]=/usr/sbin/nginx -g daemon on; master_process on; -s reload ; flags= ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }", "ExecStart": "{ path=/usr/sbin/nginx ; argv[]=/usr/sbin/nginx -g daemon on; master_process on; ; ignore_errors=no ; start_time=[Thu 2025-07-10 21:59:22 UTC] ; stop_time=[Thu 2025-07-10 21:59:22 UTC] ; pid=10858 ; code=exited ; status=0 }", "ExecStartEx": "{ path=/usr/sbin/nginx ; argv[]=/usr/sbin/nginx -g daemon on; master_process on; ; flags= ; start_time=[Thu 2025-07-10 21:59:22 UTC] ; stop_time=[Thu 2025-07-10 21:59:22 UTC] ; pid=10858 ; code=exited ; status=0 }", "ExecStartPre": "{ path=/usr/sbin/nginx ; argv[]=/usr/sbin/nginx -t -q -g daemon on; master_process on; ; ignore_errors=no ; start_time=[Thu 2025-07-10 21:59:21 UTC] ; stop_time=[Thu 2025-07-10 21:59:22 UTC] ; pid=10857 ; code=exited ; status=0 }", "ExecStartPreEx": "{ path=/usr/sbin/nginx ; argv[]=/usr/sbin/nginx -t -q -g daemon on; master_process on; ; flags= ; start_time=[Thu 2025-07-10 21:59:21 UTC] ; stop_time=[Thu 2025-07-10 21:59:22 UTC] ; pid=10857 ; code=exited ; status=0 }", "ExecStop": "{ path=/sbin/start-stop-daemon ; argv[]=/sbin/start-stop-daemon --quiet --stop --retry QUIT/5 --pidfile /run/nginx.pid ; ignore_errors=yes ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }", "ExecStopEx": "{ path=/sbin/start-stop-daemon ; argv[]=/sbin/start-stop-daemon --quiet --stop --retry QUIT/5 --pidfile /run/nginx.pid ; flags=ignore-failure ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }", "FileDescriptorStoreMax": "0", "GID": "[not set]", "GuessMainPID": "yes", "IOAccounting": "no", "IOReadBytes": "18446744073709551615", "IOReadOperations": "18446744073709551615", "IOSchedulingClass": "0", "IOSchedulingPriority": "0", "IOWeight": "[not set]", "IOWriteBytes": "18446744073709551615", "IOWriteOperations": "18446744073709551615", "IPAccounting": "no", "IPEgressBytes": "[no data]", "IPEgressPackets": "[no data]", "IPIngressBytes": "[no data]", "IPIngressPackets": "[no data]", "LimitAS": "infinity", "LimitASSoft": "infinity", "LimitCORE": "infinity", "LimitCORESoft": "0", "LimitCPU": "infinity", "LimitCPUSoft": "infinity", "LimitDATA": "infinity", "LimitDATASoft": "infinity", "LimitFSIZE": "infinity", "LimitFSIZESoft": "infinity", "LimitLOCKS": "infinity", "LimitLOCKSSoft": "infinity", "LimitMEMLOCK": "65536", "LimitMEMLOCKSoft": "65536", "LimitMSGQUEUE": "819200", "LimitMSGQUEUESoft": "819200", "LimitNICE": "0", "LimitNICESoft": "0", "LimitNOFILE": "524288", "LimitNOFILESoft": "1024", "LimitNPROC": "1546169", "LimitNPROCSoft": "1546169", "LimitRSS": "infinity", "LimitRSSSoft": "infinity", "LimitRTPRIO": "0", "LimitRTPRIOSoft": "0", "LimitRTTIME": "infinity", "LimitRTTIMESoft": "infinity", "LimitSIGPENDING": "1546169", "LimitSIGPENDINGSoft": "1546169", "LimitSTACK": "infinity", "LimitSTACKSoft": "8388608", "LogLevelMax": "-1", "LogRateLimitBurst": "0", "LogRateLimitIntervalUSec": "0", "MainPID": "10859", "MemoryAccounting": "yes", "MemoryCurrent": "7397376", "MemoryHigh": "infinity", "MemoryLimit": "infinity", "MemoryLow": "0", "MemoryMax": "infinity", "MemoryMin": "0", "MemorySwapMax": "infinity", "NFileDescriptorStore": "0", "NRestarts": "0", "NUMAMask": "", "NUMAPolicy": "n/a", "Nice": "0", "NonBlocking": "no", "NotifyAccess": "none", "OOMPolicy": "stop", "OOMScoreAdjust": "0", "PIDFile": "/run/nginx.pid", "ReloadResult": "success", "RemainAfterExit": "no", "Restart": "no", "RestartUSec": "100ms", "Result": "success", "RootDirectoryStartOnly": "no", "RuntimeMaxUSec": "infinity", "SecureBits": "0", "Slice": "system.slice", "StandardError": "inherit", "StandardInput": "null", "StandardInputData": "", "StandardOutput": "journal", "StartupBlockIOWeight": "[not set]", "StartupCPUShares": "[not set]", "StartupCPUWeight": "[not set]", "StartupIOWeight": "[not set]", "StatusErrno": "0", "SyslogFacility": "3", "SyslogLevel": "6", "SyslogLevelPrefix": "yes", "SyslogPriority": "30", "TTYReset": "no", "TTYVHangup": "no", "TTYVTDisallocate": "no", "TasksAccounting": "yes", "TasksCurrent": "3", "TasksMax": "463850", "TimeoutAbortUSec": "5s", "TimeoutStartUSec": "1min 30s", "TimeoutStopUSec": "5s", "TimerSlackNSec": "50000", "Type": "forking", "UID": "[not set]", "UMask": "0022", "WatchdogTimestampMonotonic": "0", "WatchdogUSec": "0"}}

TASK [update host file] ******************************************************************************************************************************************************************************************
Friday 11 July 2025  01:06:06 +0300 (0:00:00.855)       0:00:06.492 *********** 
ok: [ansible_workshop] => (item=TEST_1) => {"ansible_loop_var": "item", "backup": "", "changed": false, "item": "TEST_1", "msg": ""}
ok: [ansible_workshop] => (item=TEST_2) => {"ansible_loop_var": "item", "backup": "", "changed": false, "item": "TEST_2", "msg": ""}

TASK [template vhosts] *******************************************************************************************************************************************************************************************
Friday 11 July 2025  01:06:07 +0300 (0:00:01.185)       0:00:07.678 *********** 
ok: [ansible_workshop] => (item=TEST_1) => {"ansible_loop_var": "item", "changed": false, "checksum": "eb69b7d8e2ca02f55a82fa19883249187002d1df", "dest": "/etc/nginx/sites-available/TEST_1.conf", "gid": 0, "group": "root", "item": "TEST_1", "mode": "0644", "owner": "root", "path": "/etc/nginx/sites-available/TEST_1.conf", "size": 113, "state": "file", "uid": 0}
ok: [ansible_workshop] => (item=TEST_2) => {"ansible_loop_var": "item", "changed": false, "checksum": "fd67103a37ec3e7c6fd153680d9848c38d11eef8", "dest": "/etc/nginx/sites-available/TEST_2.conf", "gid": 0, "group": "root", "item": "TEST_2", "mode": "0644", "owner": "root", "path": "/etc/nginx/sites-available/TEST_2.conf", "size": 113, "state": "file", "uid": 0}

TASK [create symlink] ********************************************************************************************************************************************************************************************
Friday 11 July 2025  01:06:09 +0300 (0:00:01.932)       0:00:09.611 *********** 
ok: [ansible_workshop] => (item=TEST_1) => {"ansible_loop_var": "item", "changed": false, "dest": "/etc/nginx/sites-enabled/TEST_1.conf", "gid": 0, "group": "root", "item": "TEST_1", "mode": "0777", "owner": "root", "size": 38, "src": "/etc/nginx/sites-available/TEST_1.conf", "state": "link", "uid": 0}
ok: [ansible_workshop] => (item=TEST_2) => {"ansible_loop_var": "item", "changed": false, "dest": "/etc/nginx/sites-enabled/TEST_2.conf", "gid": 0, "group": "root", "item": "TEST_2", "mode": "0777", "owner": "root", "size": 38, "src": "/etc/nginx/sites-available/TEST_2.conf", "state": "link", "uid": 0}

TASK [reload nginx] **********************************************************************************************************************************************************************************************
Friday 11 July 2025  01:06:11 +0300 (0:00:01.330)       0:00:10.941 *********** 
skipping: [ansible_workshop] => {"changed": false, "false_condition": "nginx_reload.changed", "skip_reason": "Conditional result was False"}

TASK [create root dirs] ******************************************************************************************************************************************************************************************
Friday 11 July 2025  01:06:11 +0300 (0:00:00.010)       0:00:10.952 *********** 
ok: [ansible_workshop] => (item=TEST_1) => {"ansible_loop_var": "item", "changed": false, "gid": 33, "group": "www-data", "item": "TEST_1", "mode": "0755", "owner": "www-data", "path": "/var/www/html/TEST_1", "size": 4096, "state": "directory", "uid": 33}
ok: [ansible_workshop] => (item=TEST_2) => {"ansible_loop_var": "item", "changed": false, "gid": 33, "group": "www-data", "item": "TEST_2", "mode": "0755", "owner": "www-data", "path": "/var/www/html/TEST_2", "size": 4096, "state": "directory", "uid": 33}

TASK [template index file] ***************************************************************************************************************************************************************************************
Friday 11 July 2025  01:06:12 +0300 (0:00:01.096)       0:00:12.049 *********** 
changed: [ansible_workshop] => (item=TEST_1) => {"ansible_loop_var": "item", "changed": true, "checksum": "b55498c0acad3d7d5b21a67f26cc29abaf2682cd", "dest": "/var/www/html/TEST_1/TEST_1.html", "gid": 33, "group": "www-data", "item": "TEST_1", "md5sum": "99cc7ee45833fe00131d25b1f10705f4", "mode": "0644", "owner": "www-data", "size": 289, "src": "/root/.ansible/tmp/ansible-tmp-1752185172.2030675-517257-196315233488843/.source.html", "state": "file", "uid": 33}
changed: [ansible_workshop] => (item=TEST_2) => {"ansible_loop_var": "item", "changed": true, "checksum": "b096c7baea64c9a255e797497d7c0f7d91f7b799", "dest": "/var/www/html/TEST_2/TEST_2.html", "gid": 33, "group": "www-data", "item": "TEST_2", "md5sum": "f0c97d7f2dbfedabc29c323da60d6c99", "mode": "0644", "owner": "www-data", "size": 289, "src": "/root/.ansible/tmp/ansible-tmp-1752185173.305221-517257-214033815301919/.source.html", "state": "file", "uid": 33}

TASK [http check] ************************************************************************************************************************************************************************************************
Friday 11 July 2025  01:06:14 +0300 (0:00:02.088)       0:00:14.137 *********** 
ok: [ansible_workshop] => (item=TEST_1) => {"accept_ranges": "bytes", "ansible_loop_var": "item", "changed": false, "connection": "close", "content": "<!doctype html>\n<html>\n  <head>\n    <title>This is the title of the TEST_1 site!</title>\n  </head>\n  <body>\n    <p>This is an example paragraph. Anything in the <strong>body</strong> tag will appear on the page, just like this <strong>p</strong> tag and its contents.</p>\n  </body>\n</html>", "content_length": "289", "content_type": "text/html", "cookies": {}, "cookies_string": "", "date": "Thu, 10 Jul 2025 22:06:15 GMT", "elapsed": 0, "etag": "\"68703955-121\"", "failed_when_result": false, "item": "TEST_1", "last_modified": "Thu, 10 Jul 2025 22:06:13 GMT", "msg": "OK (289 bytes)", "redirected": false, "server": "nginx/1.18.0 (Ubuntu)", "status": 200, "url": "http://TEST_1"}
ok: [ansible_workshop] => (item=TEST_2) => {"accept_ranges": "bytes", "ansible_loop_var": "item", "changed": false, "connection": "close", "content": "<!doctype html>\n<html>\n  <head>\n    <title>This is the title of the TEST_2 site!</title>\n  </head>\n  <body>\n    <p>This is an example paragraph. Anything in the <strong>body</strong> tag will appear on the page, just like this <strong>p</strong> tag and its contents.</p>\n  </body>\n</html>", "content_length": "289", "content_type": "text/html", "cookies": {}, "cookies_string": "", "date": "Thu, 10 Jul 2025 22:06:16 GMT", "elapsed": 0, "etag": "\"68703956-121\"", "failed_when_result": false, "item": "TEST_2", "last_modified": "Thu, 10 Jul 2025 22:06:14 GMT", "msg": "OK (289 bytes)", "redirected": false, "server": "nginx/1.18.0 (Ubuntu)", "status": 200, "url": "http://TEST_2"}

PLAY RECAP *******************************************************************************************************************************************************************************************************
ansible_workshop           : ok=10   changed=1    unreachable=0    failed=0    skipped=1    rescued=0    ignored=0   

Friday 11 July 2025  01:06:15 +0300 (0:00:01.347)       0:00:15.485 *********** 
=============================================================================== 
Gathering Facts ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- 2.94s
template index file --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- 2.09s
template vhosts ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- 1.93s
install nginx --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- 1.51s
http check ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ 1.35s
create symlink -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- 1.33s
update host file ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ 1.19s
remove apache2 -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- 1.18s
create root dirs ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ 1.10s
start nginx ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- 0.86s
reload nginx ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- 0.01s
Playbook run took 0 days, 0 hours, 0 minutes, 15 seconds
```
