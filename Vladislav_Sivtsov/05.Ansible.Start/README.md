### Homework Assignment 1: Setting Up Ansible
```shell
 mkdir 05.Ansible.Start
 1128  ls
 1129  cd 05.Ansible.Start
 1130  sudo apt update
 1131  sudo apt upgrade
 1132  sudo apt install python3-pip
 sudo apt update\nsudo apt install ansible
  vim helloAnsible.yaml
```
  ```yaml
  
    - name: Hello Ansible Playbook
      hosts: localhost
      connection: local
      tasks:
        - name: Print hello message
          debug:
            msg: "Hello, Ansible!"
```
        
ansible-playbook helloAnsible.yaml
        
### Homework Assignment 2: Managing Remote Hosts
 

### change ansible.cfg for connect to the root
```yaml
  [defaults]
remote_user = root
inventory = invent.yaml
forks          = 3
host_key_checking = false
callbacks_enabled = profile_tasks, timer
```

vim install_packages.yaml
```yaml

- name: Install basic packages
  hosts: all_workers

  tasks:
    - name: Update apt cache
      ansible.builtin.apt:
        update_cache: yes

    - name: Install vim and htop
      ansible.builtin.apt:
        name:
          - vim
          - htop
        state: latest
```
### Homework Assignment 3: Managing Users and Groups
vim manage_users.yaml
```yaml
- name: Manage users and groups on remote hosts
  hosts: all_workers
  vars:
    username: "testuser"
    user_group: "developers"
    user_password: "Password123!"

  tasks:
    - name: Create group
      ansible.builtin.group:
        name: "{{ user_group }}"
        state: present

    - name: Create user and assign to group
      ansible.builtin.user:
        name: "{{ username }}"
        group: "{{ user_group }}"
        append: yes
        shell: /bin/bash
        create_home: yes
        state: present

    - name: Set user password
      ansible.builtin.user:
        name: "{{ username }}"
        password: "{{ user_password | password_hash('sha512') }}"
        update_password: always

    - name: Verify user and group configuration
      ansible.builtin.command: "id {{ username }}"
      register: user_check
      changed_when: false

    - name: Display verification results
      ansible.builtin.debug:
        var: user_check.stdout
```
``` bash
        ansible-playbook -i invent.yaml manage_users.yaml
```
Result:
```bash
PLAY [Manage users and groups on remote hosts] ***********************************************************************************************************************************************************************************************************************

TASK [Gathering Facts] ***********************************************************************************************************************************************************************************************************************************************
Monday 07 April 2025  16:14:41 +0000 (0:00:00.023)       0:00:00.023 **********
ok: [host18]
ok: [host17]

TASK [Create group] **************************************************************************************************************************************************************************************************************************************************
Monday 07 April 2025  16:14:46 +0000 (0:00:04.090)       0:00:04.114 ********** 
ok: [host18]
ok: [host17]

TASK [Create user and assign to group] *******************************************************************************************************************************************************************************************************************************
Monday 07 April 2025  16:14:47 +0000 (0:00:01.576)       0:00:05.691 **********
[WARNING]: 'append' is set, but no 'groups' are specified. Use 'groups' for appending new groups.This will change to an error in Ansible 2.14.
ok: [host18]
ok: [host17]

TASK [Set user password] *********************************************************************************************************************************************************************************************************************************************
Monday 07 April 2025  16:14:49 +0000 (0:00:01.596)       0:00:07.287 **********
changed: [host18]
changed: [host17]

TASK [Verify user and group configuration] ***************************************************************************************************************************************************************************************************************************
Monday 07 April 2025  16:14:51 +0000 (0:00:01.862)       0:00:09.150 **********
ok: [host18]
ok: [host17]

TASK [Display verification results] **********************************************************************************************************************************************************************************************************************************
Monday 07 April 2025  16:14:52 +0000 (0:00:01.523)       0:00:10.673 **********
ok: [host17] => {
    "user_check.stdout": "uid=1000(testuser) gid=1000(developers) groups=1000(developers)"
}
ok: [host18] => {
    "user_check.stdout": "uid=1000(testuser) gid=1000(developers) groups=1000(developers)"
}

PLAY RECAP ***********************************************************************************************************************************************************************************************************************************************************
host17                     : ok=6    changed=1    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
host18                     : ok=6    changed=1    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0

Monday 07 April 2025  16:14:52 +0000 (0:00:00.225)       0:00:10.898 **********
===============================================================================
Gathering Facts ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- 4.09s 
Set user password --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- 1.86s 
Create user and assign to group ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- 1.60s 
Create group -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- 1.58s 
Verify user and group configuration --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- 1.52s 
Display verification results ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- 0.23s 
Playbook run took 0 days, 0 hours, 0 minutes, 10 seconds

 

```bash
 ansible-playbook -i invent.yaml manage_users.yaml \\n  -e "username=Vlad" \\n  -e "user_group=DevOps" \\n  -e "user_password='$StrongPass123!'"
```

Result:
```bash
PLAY [Manage users and groups on remote hosts] ***********************************************************************************************************************************************************************************************************************

TASK [Gathering Facts] ***********************************************************************************************************************************************************************************************************************************************
Monday 07 April 2025  16:20:26 +0000 (0:00:00.027)       0:00:00.027 **********
ok: [host17]
ok: [host18]

TASK [Create group] **************************************************************************************************************************************************************************************************************************************************
Monday 07 April 2025  16:20:29 +0000 (0:00:03.794)       0:00:03.821 **********
ok: [host17]
ok: [host18]

TASK [Create user and assign to group] *******************************************************************************************************************************************************************************************************************************
Monday 07 April 2025  16:20:30 +0000 (0:00:01.035)       0:00:04.856 **********
[WARNING]: 'append' is set, but no 'groups' are specified. Use 'groups' for appending new groups.This will change to an error in Ansible 2.14.
ok: [host17]
ok: [host18]

TASK [Set user password] *********************************************************************************************************************************************************************************************************************************************
Monday 07 April 2025  16:20:32 +0000 (0:00:01.703)       0:00:06.561 ********** 
changed: [host17]
changed: [host18]

TASK [Verify user and group configuration] ***************************************************************************************************************************************************************************************************************************
Monday 07 April 2025  16:20:34 +0000 (0:00:01.883)       0:00:08.444 **********
ok: [host17]
ok: [host18]

TASK [Display verification results] **********************************************************************************************************************************************************************************************************************************
Monday 07 April 2025  16:20:36 +0000 (0:00:01.537)       0:00:09.982 ********** 
ok: [host17] => {
    "user_check.stdout": "uid=1001(Vlad) gid=1001(DevOps) groups=1001(DevOps)"
}
ok: [host18] => {
    "user_check.stdout": "uid=1001(Vlad) gid=1001(DevOps) groups=1001(DevOps)"
}

PLAY RECAP ***********************************************************************************************************************************************************************************************************************************************************
host17                     : ok=6    changed=1    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
host18                     : ok=6    changed=1    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0

Monday 07 April 2025  16:20:36 +0000 (0:00:00.268)       0:00:10.251 **********
===============================================================================
Gathering Facts ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- 3.79s 
Set user password --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- 1.88s 
Create user and assign to group ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- 1.70s 
Verify user and group configuration --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- 1.54s 
Create group -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- 1.04s 
Display verification results ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- 0.27s 
Playbook run took 0 days, 0 hours, 0 minutes, 10 seconds
```
